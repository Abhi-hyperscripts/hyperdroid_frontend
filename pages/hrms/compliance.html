<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Cookie Consent & Analytics -->
    <script src="/js/cookie-consent.js" defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <title>Statutory Compliance - HRMS | Ragenaizer</title>
    <script>window.CACHE_VERSION = Date.now();</script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>document.write('<link rel="stylesheet" href="../../css/theme.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<link rel="stylesheet" href="../../css/styles.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<link rel="stylesheet" href="../../css/hrms.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<link rel="stylesheet" href="../../css/hrms-payroll.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<link rel="stylesheet" href="../../css/hrms-compliance.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<link rel="stylesheet" href="../../css/searchable-dropdown.css?v=' + CACHE_VERSION + '">');</script>
    <script>document.write('<script src="../../js/theme.js?v=' + CACHE_VERSION + '"><\/script>');</script>
</head>
<body class="dashboard">
    <nav class="navbar">
        <div class="navbar-brand">
            <a href="../home.html">
                <img src="../../assets/brand_logo.png" alt="Ragenaizer Logo" class="navbar-logo">
            </a>
        </div>
        <div class="navbar-menu"></div>
    </nav>

    <div class="hrms-container">
        <div class="hrms-header">
            <div class="header-content">
                <nav class="breadcrumb-nav">
                    <a href="dashboard.html">HRMS</a>
                    <span class="separator">/</span>
                    <span class="current">Statutory Compliance</span>
                </nav>
                <div class="hrms-header-row">
                    <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle navigation menu">
                        <span class="hamburger-icon">
                            <span class="hamburger-line"></span>
                            <span class="hamburger-line"></span>
                            <span class="hamburger-line"></span>
                        </span>
                        <svg class="arrow-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5"></path>
                            <path d="M12 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <h1>Statutory Compliance</h1>
                </div>
                <div class="active-tab-title" id="activeTabTitle">
                    <span class="tab-indicator"></span>
                    <span id="activeTabName">Company Registration</span>
                </div>
            </div>
        </div>

        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <div class="organization-layout">
            <aside class="organization-sidebar gradient-bg-ambient" id="organizationSidebar">
                <div class="sidebar-header">
                    <h3>Compliance</h3>
                </div>
                <nav class="sidebar-nav">
                    <button class="sidebar-btn active" data-tab="country-configs" id="countryConfigsBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="2" y1="12" x2="22" y2="12"></line>
                            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                        </svg>
                        <span class="nav-label">Country Configs</span>
                    </button>
                    <button class="sidebar-btn" data-tab="statutory-registrations" id="statutoryRegistrationsBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        <span class="nav-label">Employer Registrations</span>
                    </button>
                    <button class="sidebar-btn" data-tab="company-info" id="companyInfoBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 21h18"></path>
                            <path d="M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16"></path>
                            <path d="M9 9h1"></path>
                            <path d="M9 13h1"></path>
                            <path d="M14 9h1"></path>
                            <path d="M14 13h1"></path>
                        </svg>
                        <span class="nav-label">Company Info</span>
                    </button>
                </nav>
            </aside>

            <main class="organization-content">
                <!-- Country Configurations Tab (Default Active) -->
                <div class="tab-content active" id="country-configs">
                    <div class="country-configs-section">
                        <div class="configs-header">
                            <div class="configs-header-left">
                                <h2>Country Configurations</h2>
                                <p class="configs-subtitle">Upload statutory compliance rules for each country your organization operates in. The JSON configuration defines PF, ESI, PT, income tax slabs, and other statutory rules.</p>
                            </div>
                            <div class="configs-header-actions">
                                <button type="button" class="btn btn-outline" onclick="refreshCountryConfigs()" title="Refresh configurations">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M23 4v6h-6"></path>
                                        <path d="M1 20v-6h6"></path>
                                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                                    </svg>
                                    Refresh
                                </button>
                                <button type="button" class="btn btn-primary" onclick="openConfigUploadModal()" id="uploadConfigBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17 8 12 3 7 8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                    </svg>
                                    Upload Config
                                </button>
                            </div>
                        </div>

                        <!-- Country Config Cards -->
                        <div class="country-configs-grid" id="countryConfigsGrid">
                            <!-- Will be populated by JavaScript -->
                            <div class="configs-empty-state" id="configsEmptyState">
                                <div class="empty-icon">
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17 8 12 3 7 8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                    </svg>
                                </div>
                                <h3>No Configurations Yet</h3>
                                <p>Upload your first country statutory configuration to get started. This will automatically create country and state records.</p>
                                <button type="button" class="btn btn-primary" onclick="openConfigUploadModal()">
                                    Upload Configuration
                                </button>
                            </div>
                        </div>

                    </div>

                    <!-- How It Works - 4 Compact Cards (Outside main card) -->
                    <div class="config-workflow-grid">
                        <div class="config-workflow-card">
                            <div class="workflow-icon upload">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h5>Upload JSON</h5>
                                <p>Upload country-specific statutory rules</p>
                            </div>
                        </div>
                        <div class="config-workflow-card">
                            <div class="workflow-icon auto">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"></path>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h5>Auto-Creates</h5>
                                <p>Countries and states created automatically</p>
                            </div>
                        </div>
                        <div class="config-workflow-card">
                            <div class="workflow-icon payroll">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                    <line x1="8" y1="21" x2="16" y2="21"></line>
                                    <line x1="12" y1="17" x2="12" y2="21"></line>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h5>Payroll Engine</h5>
                                <p>Reads rules for statutory deductions</p>
                            </div>
                        </div>
                        <div class="config-workflow-card">
                            <div class="workflow-icon version">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9"></path>
                                    <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h5>Version Control</h5>
                                <p>Each upload creates a new version</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Employer Registrations Tab -->
                <div class="tab-content" id="statutory-registrations">
                    <div class="compliance-section">
                        <!-- Schema-Driven Statutory Registrations -->
                        <div class="statutory-registrations-section" id="statutoryRegistrationsSection">
                            <div class="section-header">
                                <div class="section-title-group">
                                    <h2>Employer Registrations</h2>
                                    <p class="section-subtitle">Configure country-specific statutory registrations (PF establishment ID, ESI code, TAN, etc.) required for government filings. Each country has different requirements.</p>
                                </div>
                            </div>

                            <!-- Country Tabs (populated from uploaded configs) -->
                            <div class="country-tabs" id="countryTabs">
                                <!-- Will be populated by JavaScript based on uploaded country configs -->
                                <div class="no-configs-message" id="noConfigsMessage">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="12" y1="8" x2="12" y2="12"></line>
                                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                    </svg>
                                    <span>No country configurations uploaded. Go to <a href="#" onclick="switchToConfigsTab()">Country Configs</a> to upload one.</span>
                                </div>
                            </div>

                            <!-- Dynamic Registration Form (rendered from schema) -->
                            <div class="country-registration-form" id="countryRegistrationForm" style="display: none;">
                                <div class="registration-form-header">
                                    <div class="country-info">
                                        <span class="country-flag" id="selectedCountryFlag"></span>
                                        <span class="country-name" id="selectedCountryName"></span>
                                    </div>
                                    <div class="validation-status" id="registrationValidationStatus"></div>
                                </div>

                                <form id="countryRegistrationsForm" onsubmit="handleRegistrationsSubmit(event)">
                                    <!-- Dynamic fields rendered from schema -->
                                    <div class="form-sections" id="dynamicRegistrationFields">
                                        <!-- Populated by JavaScript from country's employer_registration_requirements -->
                                    </div>

                                    <div class="form-actions">
                                        <button type="button" class="btn btn-outline" onclick="validateRegistrations()">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                            </svg>
                                            Validate
                                        </button>
                                        <button type="submit" class="btn btn-primary" id="saveRegistrationsBtn">
                                            <span class="btn-text">Save Registrations</span>
                                            <span class="btn-spinner" style="display: none;">
                                                <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" opacity="0.25"/>
                                                    <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="3" fill="none" stroke-linecap="round"/>
                                                </svg>
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Company Info Tab (Filing Configuration) -->
                <div class="tab-content" id="company-info">
                    <div class="compliance-section">
                        <div class="section-header">
                            <div class="section-title-group">
                                <h2>Company Information</h2>
                                <p class="section-subtitle">Configure company details, bank information, and authorized signatory for government filings.</p>
                            </div>
                        </div>

                        <!-- Bento Grid Form -->
                        <form id="companyInfoForm" onsubmit="handleCompanyInfoSubmit(event)">
                            <div class="bento-grid-compliance">
                                <!-- Company Info Card -->
                                <div class="bento-card-compliance company">
                                    <div class="card-border"></div>
                                    <div class="card-content">
                                        <div class="card-header">
                                            <div class="card-icon">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <path d="M3 21h18"></path>
                                                    <path d="M5 21V7l8-4v18"></path>
                                                    <path d="M19 21V11l-6-4"></path>
                                                    <path d="M9 9v.01"></path>
                                                    <path d="M9 12v.01"></path>
                                                    <path d="M9 15v.01"></path>
                                                    <path d="M9 18v.01"></path>
                                                </svg>
                                            </div>
                                            <h3 class="card-title">Company Details</h3>
                                        </div>
                                        <div class="card-form">
                                            <div class="form-row">
                                                <label for="companyName">Company Name *</label>
                                                <input type="text" id="companyName" name="companyName" placeholder="Enter company name" required>
                                            </div>
                                            <div class="form-row">
                                                <label for="registeredAddress">Registered Address</label>
                                                <input type="text" id="registeredAddress" name="registeredAddress" placeholder="Complete registered address">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bank Details Card -->
                                <div class="bento-card-compliance bank">
                                    <div class="card-border"></div>
                                    <div class="card-content">
                                        <div class="card-header">
                                            <div class="card-icon">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                                    <path d="M3 9h18"></path>
                                                    <path d="M9 21V9"></path>
                                                </svg>
                                            </div>
                                            <h3 class="card-title">Bank Details</h3>
                                        </div>
                                        <div class="card-form">
                                            <div class="form-row">
                                                <label for="bankName">Bank Name</label>
                                                <input type="text" id="bankName" name="bankName" placeholder="e.g., State Bank of India">
                                            </div>
                                            <div class="form-row">
                                                <label for="bankAccount">Account Number</label>
                                                <input type="text" id="bankAccount" name="bankAccount" placeholder="Bank account number">
                                            </div>
                                            <div class="form-row">
                                                <label for="bankIfsc">IFSC/SWIFT Code</label>
                                                <input type="text" id="bankIfsc" name="bankIfsc" placeholder="e.g., SBIN0001234">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Authorized Signatory Card -->
                                <div class="bento-card-compliance signatory">
                                    <div class="card-border"></div>
                                    <div class="card-content">
                                        <div class="card-header">
                                            <div class="card-icon">
                                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                    <circle cx="12" cy="7" r="4"></circle>
                                                </svg>
                                            </div>
                                            <h3 class="card-title">Authorized Signatory</h3>
                                        </div>
                                        <div class="card-form">
                                            <div class="form-row">
                                                <label for="signatoryName">Full Name</label>
                                                <input type="text" id="signatoryName" name="signatoryName" placeholder="Full name">
                                            </div>
                                            <div class="form-row">
                                                <label for="signatoryDesignation">Designation</label>
                                                <input type="text" id="signatoryDesignation" name="signatoryDesignation" placeholder="e.g., HR Manager">
                                            </div>
                                            <div class="form-row">
                                                <label for="signatoryPan">PAN/Tax ID</label>
                                                <input type="text" id="signatoryPan" name="signatoryPan" placeholder="Signatory's tax ID">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="bento-save-area">
                                <button type="submit" class="btn btn-primary" id="saveCompanyInfoBtn">
                                    <span class="btn-text">Save Company Information</span>
                                    <span class="btn-spinner" style="display: none;">
                                        <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" opacity="0.25"/>
                                            <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="3" fill="none" stroke-linecap="round"/>
                                        </svg>
                                    </span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Config Upload Modal -->
                <div class="modal" id="configUploadModal">
                    <div class="modal-content modal-lg">
                        <div class="modal-header">
                            <h3>Upload Statutory Configuration</h3>
                            <button type="button" class="close-btn" onclick="closeConfigUploadModal()">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        <div class="modal-body">
                            <!-- Upload Zone -->
                            <div class="upload-zone" id="configUploadZone" onclick="document.getElementById('configFileInput').click()">
                                <input type="file" id="configFileInput" accept=".json" style="display: none;" onchange="handleConfigFileSelect(event)">
                                <div class="upload-zone-content">
                                    <div class="upload-icon">
                                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="17 8 12 3 7 8"></polyline>
                                            <line x1="12" y1="3" x2="12" y2="15"></line>
                                        </svg>
                                    </div>
                                    <p class="upload-text">Drop your JSON configuration file here or <span class="upload-link">browse</span></p>
                                    <p class="upload-hint">Supports country-specific statutory configs (India, USA, UAE, etc.)</p>
                                </div>
                            </div>

                            <!-- File Selected State -->
                            <div class="selected-file-info" id="selectedFileInfo" style="display: none;">
                                <div class="file-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                </div>
                                <div class="file-details">
                                    <span class="file-name" id="selectedFileName">-</span>
                                    <span class="file-size" id="selectedFileSize">-</span>
                                </div>
                                <button type="button" class="btn-icon-sm" onclick="clearSelectedFile()" title="Remove file">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>

                            <!-- Validation Status -->
                            <div class="validation-status" id="validationStatus" style="display: none;">
                                <div class="validation-header">
                                    <span class="validation-icon" id="validationIcon"></span>
                                    <span class="validation-title" id="validationTitle">Validating...</span>
                                </div>
                                <div class="validation-details" id="validationDetails"></div>
                            </div>

                            <!-- Validation Errors -->
                            <div class="validation-errors" id="validationErrors" style="display: none;">
                                <div class="errors-header">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="15" y1="9" x2="9" y2="15"></line>
                                        <line x1="9" y1="9" x2="15" y2="15"></line>
                                    </svg>
                                    <span>Validation Errors</span>
                                </div>
                                <div class="errors-list" id="errorsList"></div>
                            </div>

                            <!-- Config Preview -->
                            <div class="config-preview" id="configPreview" style="display: none;">
                                <div class="preview-header">
                                    <h3>Configuration Preview</h3>
                                </div>
                                <div class="preview-content" id="configPreviewContent"></div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="closeConfigUploadModal()">Cancel</button>
                            <button type="button" class="btn btn-primary" id="uploadConfirmBtn" onclick="confirmConfigUpload()" disabled>
                                Upload Configuration
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Config View Modal -->
                <div class="modal" id="configViewModal">
                    <div class="modal-content modal-xl">
                        <div class="modal-header">
                            <div class="modal-title-row">
                                <h3 id="configViewTitle">Configuration Details</h3>
                                <span class="config-version-badge" id="configVersionBadge"></span>
                            </div>
                            <button type="button" class="close-btn" onclick="closeConfigViewModal()">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="config-tabs" id="configTabs">
                                <!-- Tabs will be generated dynamically based on config sections -->
                            </div>
                            <div class="config-content" id="configContent">
                                <!-- Config data will be rendered here -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="closeConfigViewModal()">Close</button>
                            <button type="button" class="btn btn-outline" onclick="downloadCurrentConfig()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Download JSON
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Loading State -->
                <div class="loading-overlay" id="loadingOverlay" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p>Loading...</p>
                </div>

                <!-- Toast Notification -->
                <div class="toast-container" id="toastContainer"></div>
            </main>
        </div>
    </div>

    <!-- Scripts -->
    <script>document.write('<script src="../../js/config.js?v=' + CACHE_VERSION + '"><\/script>');</script>
    <script>document.write('<script src="../../js/api.js?v=' + CACHE_VERSION + '"><\/script>');</script>
    <script>document.write('<script src="../../js/toast.js?v=' + CACHE_VERSION + '"><\/script>');</script>
    <script>document.write('<script src="../../js/navigation.js?v=' + CACHE_VERSION + '"><\/script>');</script>
    <script>document.write('<script src="../../js/hrms/roleUtils.js?v=' + CACHE_VERSION + '"><\/script>');</script>
    <script>document.write('<script src="../../js/hrms/hrms-signalr.js?v=' + CACHE_VERSION + '"><\/script>');</script>
